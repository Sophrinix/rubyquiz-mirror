<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>


<!-- Start Wayback Rewrite JS Include -->
<script type="text/javascript" src="/static/js/jwplayer/jwplayer.js" ></script>
<script type="text/javascript" src="/static/js/video-embed-rewriter.js"></script>
<script type="text/javascript">
function initYTVideo(id)
{
	_wmVideos_.init("/web/", id);
}
</script>
<!-- End Wayback Rewrite JS Include -->

	<title>Ruby Quiz - Ducksay (#52)</title>
	<link rel="stylesheet" type="text/css" href="/web/20120120002942cs_/http://rubyquiz.com/quiz.css" />
	<link rel="stylesheet" type="text/css" href="/web/20120120002942cs_/http://rubyquiz.com/print.css" media="print" />
</head><body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/rubyquiz.com\/quiz52.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "20";
var displayMonth = "Jan";
var displayYear = "2012";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://rubyquiz.com/quiz52.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20120120002942" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101127172646/http://rubyquiz.com/quiz52.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="27 Nov 2010"><strong>NOV</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 0:29:42 Jan 20, 2012">JAN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20120418094211/http://www.rubyquiz.com/quiz52.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="18 Apr 2012"><strong>APR</strong></a>
		                
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20120103143532/http://www.rubyquiz.com/quiz52.html" title="14:35:32 Jan 3, 2012" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 0:29:42 Jan 20, 2012">20</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20120418094211/http://www.rubyquiz.com/quiz52.html" title="9:42:11 Apr 18, 2012" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"/></a>
		                
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101127172646/http://rubyquiz.com/quiz52.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="27 Nov 2010"><strong>2010</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 0:29:42 Jan 20, 2012">2012</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20130215052352/http://rubyquiz.com/quiz52.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Feb 2013"><strong>2013</strong></a>
		                
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20120120002942*/http://rubyquiz.com/quiz52.html" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>30 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">24 Apr 06 - 15 Feb 13</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000110000100_2007:-1:000101000000_2008:-1:000020000000_2009:-1:000000000000_2010:-1:000000000010_2011:-1:000000000000_2012:0:20017000a100_2013:-1:010000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

	<div id="page">
		<div id="header"><span class="ruby">Ruby</span> <span class="quiz">Quiz</span></div>
		<div id="content">
			<span class="title">Ducksay (#52)</span>
			<p>by Jonas Pfenniger</p>
			<p class="example"> __________________________________<br />&lt; Welcome to this week's Ruby Quiz &gt;<br /> ----------------------------------<br />        \   ^__^<br />         \  (oo)\_______<br />            (__)\       )\/\<br />                ||----w |<br />                ||     ||</p>
			<p>This week, we will make some ascii-art for fun.</p>
			<p>Produce a script that generates funny talking animals. The executable
consists of three parts.</p>
			<p class="example">Part One : The balloon<br />=====================</p>
			<p>The balloon is the surrounding part, in which the text will be shown.  You can make it like you want.</p>
			<p>Examples :</p>
			<p class="example">One-liner<br /> _______________<br />&lt; I love ruby ! &gt;<br /> ---------------<br /> <br />Multiple lines with text wrapping and carriage return<br /> __________________________________________<br />/ Q:How do you stop an elephant from       \<br />| charging?                                |<br />\ A:Take away his credit cards.            /<br /> ------------------------------------------</p>
			<p class="example">Part Two : The template<br />=======================</p>
			<p>To make it flexible, we'll need a template language that can combine the animal and the text.  You'll have to think about how you want to make it flexible enough.</p>
			<p>Example :</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="comment"># thoughts is the balloon's tail</span><br />    <span class="keyword">def</span> animal(thoughts = <span class="string">'\', eyes = '</span>oo<span class="string">', tongue='</span>  ')<br />      <span class="string">%[#{baloon}<br />              #{thoughts}   ^__^<br />             #{thoughts}  (#{eyes})\\_______<br />                (__)\\       )\\/\\<br />                 #{tongue} ||----w |<br />                    ||     ||<br />    ]</span><br />    <span class="keyword">end</span><br /><br /></div></div>
			<p class="example">Part Three : The command-line arguments<br />=======================================</p>
			<p>There are no special arguments. I would suggest asking for a text input, but you can also get the text from `fortune` or make it editable in place.  Optional arguments can be given to change the selected template and some of its
variables like the eyes, the tongue, and the balloon's tail.</p>
			<p>Use your imagination !</p>
			<p>So that's it for the quiz. Extra points are given to the person who
provides a duck template.</p>
			<p class="example">Credits<br />=======<br /><br />- cowsay : http://www.cowsay.net/</p>
			<hr />
			<p><span class="title">Quiz Summary</span></p>
			<p class="example"> __________________ <br />&lt; class Cow &lt; Duck &gt;<br /> ------------------ <br />    \                                _____<br />     \                         \\_-~~     ~~-_<br />      \                        /~             ~\<br />       \                     _|  _              |<br />        \                ___) ~~) ~~~--_         |<br />         \            _-~   ~-_   ___   \        |/<br />          \          /         _-~   ~-_          /<br />           \        |         /         \         |<br />            \      |  O)     |           |        |<br />                   |        |             |      |<br />                    |       |        (O   |      |<br />                     \       |           |      |\<br />                     (~-_   _-\         / _--_ / \<br />                      \__~~~   ~-_   _-~ /    ~\<br />                      /  ~---~~-_ ~~~ _-~  /|   |<br />                   _-~      / \  ~~--~    | |   |<br />                _-~                      | /   |<br />   ,-~~-_ __--~~                        |-~   /<br />   |     \                             |   _-~<br />    \                                 |--~~<br />     \                               |  |<br />      ~-_            _              |   |<br />         ~-_          ~~---__   _--~~\  |<br />            ~~--__                   /  |<br />                  ~~---___     __--~~|  |<br />                          ~~~~~      |  |<br />                                     |  |</p>
			<p>That's using Ryan Leavengood's solution to display the much celebrated line from Dave Burt's solution.  It's just so Ruby!</p>
			<p>It looks like people had plenty of fun solving this quiz, which is great.  We're all about The Fun Factor(tm) here at Ruby Quiz.</p>
			<p>Let's get to a solution:</p>
			<p class="example"> ______________________ <br />&lt; Dave Burt's Solution &gt;<br /> ---------------------- <br />   \<br />    \  .-"""-.   _.---..-;<br />      :.)     ;""      \/<br />__..--'\      ;-"""-.   ;._<br />`-.___.^.___.'-.____J__/-._J</p>
			<p>Dave is always teaching me great Ruby tricks in his solutions and this week's trick of choice is right at the top of the program:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="keyword">class</span> String<br />      <span class="keyword">def</span> width<br />        inject(0) {|w, line| [w, line.chomp.size].max }<br />      <span class="keyword">end</span><br />      <span class="keyword">def</span> height<br />        to_a.size<br />      <span class="keyword">end</span><br />      <span class="keyword">def</span> top<br />        to_a.first<br />      <span class="keyword">end</span><br />      <span class="keyword">def</span> middle<br />        to_a.values_at(1..-1)<br />      <span class="keyword">end</span><br />      <span class="keyword">def</span> bottom<br />        to_a.last<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="comment"># ...</span><br /><br /></div></div>
			<p>I just know I would have written width() as:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    map { |line| line.chomp.size }.max<br /><br /></div></div>
			<p>Dave's is more efficient though.  It only ever keeps the highest number, instead of building an Array of all the lengths.  Just one more reason inject() is the one iterator to rule them all.  Thanks for trick #562, Dave!</p>
			<p>Obviously we're just dealing with some helpers added to String above, to make later work easier.  Just remember that String.each() traverses lines by default and inject() and to_a() are defined in terms of each() and there shouldn't be any surprises here.</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="comment"># ...</span><br /><br />    <span class="keyword">class</span> Duck<br />      <span class="keyword">def</span> <span class="keyword">self</span>.say(speech=<span class="string">"quack?"</span>, *args)<br />        balloon(speech) + body(*args)<br />      <span class="keyword">end</span><br /><br />      <span class="keyword">def</span> <span class="keyword">self</span>.balloon(speech)<br />        <span class="string">" _#{ '_' * speech.width }_\n"</span> +<br />          <span class="keyword">if</span> speech.chomp =~ <span class="string">/\n/</span><br />            <span class="string">"/ %-#{ speech.width }s \\\n"</span> % speech.top.chomp +<br />            speech.middle.map <span class="keyword">do</span> |line|<br />              <span class="string">"| %-#{ speech.width }s |\n"</span> % line.chomp<br />            <span class="keyword">end</span>.join +<br />            <span class="string">"\\ %-#{ speech.width }s /\n"</span> % speech.bottom.chomp<br />          <span class="keyword">else</span><br />            <span class="string">"&lt; #{ speech.chomp } &gt;\n"</span><br />          <span class="keyword">end</span> +<br />        <span class="string">" -#{ '-' * speech.width }-\n"</span><br />      <span class="keyword">end</span><br /><br />      <span class="keyword">def</span> <span class="keyword">self</span>.body(thoughts=<span class="string">'\\', eyes='</span>cc<span class="string">', tongue='</span>  <span class="string">')<br />    "       #{thoughts}<br />            #{thoughts}<br />            _   ___<br />           / \\ /   \\<br />           \\. |: #{eyes}|<br />            (.|:,---,<br />            (.|: \\( |<br />            (.    y-'</span><br />             \\ _ / <span class="comment">#{tongue}</span><br />              m m<br />    "<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="comment"># ...</span><br /><br /></div></div>
			<p>The say() method should be easy enough to digest.  Build a balloon() and a body(), slap them together, and return them.  Beyond that, body() is almost right out of the quiz.  It just builds a String, interpolating the substitutions.</p>
			<p>That leaves balloon().  It's really just building a String too, with a little more logic thrown in.  The if branch handles multiline comments, so the speech bubble can be rounded at the edges.  Otherwise the else branch is used.  The rest is just border drawing.</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="comment"># ...</span><br /><br />    <span class="keyword">class</span> Cow &lt; Duck<br />      <span class="keyword">def</span> <span class="keyword">self</span>.body(thoughts=<span class="string">'\\', eyes='</span>oo<span class="string">', tongue='</span>  <span class="string">')<br />    "  #{thoughts}   ^__^<br />       #{thoughts}  (#{eyes})\\_______<br />          (__)\\       )\\/\\<br />           #{tongue} ||----w |<br />              ||     ||<br />    "<br />      end<br />    end<br /><br />    class DuckOnWater &lt; Duck<br />      def self.body(thoughts='</span>\\<span class="string">', eyes='</span>º<span class="string">', tongue='</span>&gt;<span class="string">')<br />    "    #{thoughts}<br />         ` #{tongue[0, 1]}(#{eyes[0, 1]})____,<br />            (` =~~/<br />    ~^~^~^~^~`---'</span>^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~^~<br />    "<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="comment"># ...</span><br /><br /></div></div>
			<p>From there, other animals can just inherit and define a new body() method.  Now we all truly understand Duck Typing!  Everything is really just a Duck...</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="comment"># ...</span><br /><br />    <span class="keyword">if</span> <span class="global">$0</span> == <span class="keyword">__FILE__</span><br />      <span class="keyword">if</span> ARGV.include?(<span class="string">"--help"</span>)<br />        puts <span class="string">"usage: #$0 animal thoughts eyes tongue &lt;speech\n"</span><br />        puts <span class="string">"animals: Duck Cow DuckOnWater\n"</span><br />        puts <span class="string">"e.g.: #$0 DuckOnWater o x ) &lt;/etc/fortune\n"</span><br />      <span class="keyword">else</span><br />        animal = Object.const_get(ARGV.shift) <span class="keyword">rescue</span> Duck<br />        puts animal.say(STDIN.read, *ARGV)<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br /></div></div>
			<p>The main code is trivial.  Show usage (if branch), or locate the proper class with const_get() and call say() (else branch).  That's all it really takes to get the animals talking.</p>
			<p class="example"> _________________________________________________________________ <br />&lt; Ryan Leavengood's Solution: Where even Chunky Bacon can talk... &gt;<br /> ----------------------------------------------------------------- <br />      \<br />       \  __      _.._<br />       .-'__`-._.'.--.'.__.,<br />      /--'  '-._.'    '-._./<br />     /__.--._.--._.'``-.__/<br />     '._.-'-._.-._.-''-..'</p>
			<p>I won't show the whole thing here, but do look it over.  It had a nice collection of animals embedded in the DATA section of the code.  They were controlled through a Zoo class, where even a random animal could be chosen to escape():</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="comment"># ...</span><br /><br />    <span class="comment"># Our lovely Zoo, full of many wacky animals</span><br />    <span class="keyword">class</span> Zoo<br />      include Singleton<br />      attr_reader :animals<br />      <span class="keyword">def</span> initialize<br />        <span class="variable">@animals</span> = {}<br />        current_key = <span class="keyword">nil</span><br />        DATA.each <span class="keyword">do</span> |line|<br />          <span class="keyword">if</span> line.chomp =~ <span class="string">/^'(\w*)':$/</span><br />            current_key = <span class="global">$1</span><br />            <span class="variable">@animals</span>[current_key] = []<br />          <span class="keyword">elsif</span> current_key<br />            <span class="variable">@animals</span>[current_key] &lt;&lt; line<br />          <span class="keyword">end</span><br />        <span class="keyword">end</span><br />      <span class="keyword">end</span><br /><br />      <span class="comment"># A random animal has escaped!</span><br />      <span class="keyword">def</span> escape<br />        choices = <span class="variable">@animals</span>.keys<br />        <span class="variable">@animals</span>[choices[rand(choices.length)]]<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="comment"># ...</span><br /><br /></div></div>
			<p>Ryan also emulated fortune for Windows, with only a few lines of code:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    require <span class="string">'open-uri'</span><br /><br />    <span class="comment"># ...</span><br /><br />    <span class="comment"># Since I wrote this on Windows I don't have fortune...but the</span><br />    <span class="comment"># internet does!</span><br />    <span class="keyword">def</span> get_fortune<br />      open(<span class="string">'http://www.coe.neu.edu/cgi-bin/fortune'</span>) <span class="keyword">do</span> |page|<br />        page.read.scan(<span class="string">/&lt;pre&gt;(.*)&lt;\/pre&gt;/</span>m)[0][0].gsub(<span class="string">"\t"</span>,<span class="string">'   '</span>)<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="comment"># ...</span><br /><br /></div></div>
			<p>Fun to read and educational at the same time.  You can't beat that folks!</p>
			<p class="example"> ________________<br />&lt; The Other Guys &gt;<br /> ----------------<br />       \<br />        \<br />        _   ___<br />       / \ /   \<br />       \. |: ^-|<br />        (.|:,---,<br />        (.|: \( |<br />        (.    y-'<br />         \ _ /   <br />          m m</p>
			<p>Jacob Quinn Shenker golfed the solution, needing less than 400 strokes.  Check it out.</p>
			<p>JB Eriksson supported thought bubbles and sent in a duck on water template.  More good stuff.</p>
			<p class="example"> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br />(Wrap Up:  This went just swimmingly!)<br /> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 <br />      o<br />       ` &gt;(o)____,<br />          (` =~~/<br />  ^~^~^~^~^~`---'^~^~^~^~^~</p>
			<p>I have to offer major thanks to everyone who made is possible for me to fill a quiz summary with animal drawings!  How cool is that?</p>
			<p>Tomorrow's quiz takes us from animals to appliances as we build our own DRYer...</p>
		</div>
		<div id="logo"><img src="/web/20120120002942im_/http://rubyquiz.com/images/ruby_quiz_logo.jpg" alt="" width="157" height="150" /></div>
		<div id="links">
			<span class="title">Quiz Solutions</span>
			<ol>
				<li><a href="/web/20120120002942/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/162130">Dave Burt</a></li>
				<li><a href="/web/20120120002942/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/162138">JB Eriksson</a></li>
				<li><a href="/web/20120120002942/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/162172">Jacob Quinn Shenker</a></li>
				<li><a href="/web/20120120002942/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/162211">Ryan Leavengood</a></li>
			</ol>
			<p><a href="/web/20120120002942/http://rubyquiz.com/quiz52_sols.zip">Download Solutions</a></p>
			<p><a href="/web/20120120002942/http://rubyquiz.com/index.html">Back to Quiz Listing</a></p>
		</div>
		<div id="footer">&nbsp;</div>
	</div>
</body>
</html>





<!--
     FILE ARCHIVED ON 0:29:42 Jan 20, 2012 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:09:48 Jun 5, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
