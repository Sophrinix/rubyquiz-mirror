<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>


<!-- Start Wayback Rewrite JS Include -->
<script type="text/javascript" src="/static/js/jwplayer/jwplayer.js" ></script>
<script type="text/javascript" src="/static/js/video-embed-rewriter.js"></script>
<script type="text/javascript">
function initYTVideo(id)
{
	_wmVideos_.init("/web/", id);
}
</script>
<!-- End Wayback Rewrite JS Include -->

	<title>Ruby Quiz - pp Pascal (#84)</title>
	<link rel="stylesheet" type="text/css" href="/web/20120120004028cs_/http://rubyquiz.com/quiz.css" />
	<link rel="stylesheet" type="text/css" href="/web/20120120004028cs_/http://rubyquiz.com/print.css" media="print" />
</head><body>
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/rubyquiz.com\/quiz84.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "20";
var displayMonth = "Jan";
var displayYear = "2012";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://rubyquiz.com/quiz84.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20120120004028" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101127175911/http://rubyquiz.com/quiz84.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="27 Nov 2010"><strong>NOV</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 0:40:28 Jan 20, 2012">JAN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20120418074834/http://www.rubyquiz.com/quiz84.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="18 Apr 2012"><strong>APR</strong></a>
		                
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20101127175911/http://rubyquiz.com/quiz84.html" title="17:59:11 Nov 27, 2010" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 0:40:28 Jan 20, 2012">20</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20120418074834/http://www.rubyquiz.com/quiz84.html" title="7:48:34 Apr 18, 2012" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"/></a>
		                
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101127175911/http://rubyquiz.com/quiz84.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="27 Nov 2010"><strong>2010</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 0:40:28 Jan 20, 2012">2012</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20130215052238/http://rubyquiz.com/quiz84.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Feb 2013"><strong>2013</strong></a>
		                
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20120120004028*/http://rubyquiz.com/quiz84.html" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>33 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">20 Oct 06 - 15 Feb 13</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000100_2007:-1:000001100000_2008:-1:000020000000_2009:-1:000000000000_2010:-1:100000000010_2011:-1:000000000000_2012:0:1001c000a100_2013:-1:010000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

	<div id="page">
		<div id="header"><span class="ruby">Ruby</span> <span class="quiz">Quiz</span></div>
		<div id="content">
			<span class="title">pp Pascal (#84)</span>
			<p>by Dirk Meijer</p>
			<p>I recently showed a friend what an amazing language Ruby was, by quickly programming up a script to calculate Fibonacci's Sequence, and his first response was: "Can you do Pascal's Triangle?"  So I did, which proved harder than expected.</p>
			<p>For those not familiar with Pascal's Triangle, it is very similar to Fibonacci's Sequence. It's a pyramid of numbers. The outside of the pyramid is all ones, the other numbers are the sum of the two numbers above, like this:</p>
			<p class="example">&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;1&nbsp;1&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;1&nbsp;2&nbsp;1&nbsp;&nbsp;<br />&nbsp;1&nbsp;3&nbsp;3&nbsp;1&nbsp;<br />1&nbsp;4&nbsp;6&nbsp;4&nbsp;1</p>
			<p>The input and output should be as follows:</p>
			<p class="example">$&nbsp;ruby&nbsp;pp_pascal.rb&nbsp;10<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;&nbsp;&nbsp;&nbsp;20&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;35&nbsp;&nbsp;&nbsp;&nbsp;35&nbsp;&nbsp;&nbsp;&nbsp;21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;&nbsp;28&nbsp;&nbsp;&nbsp;&nbsp;56&nbsp;&nbsp;&nbsp;&nbsp;70&nbsp;&nbsp;&nbsp;&nbsp;56&nbsp;&nbsp;&nbsp;&nbsp;28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;36&nbsp;&nbsp;&nbsp;&nbsp;84&nbsp;&nbsp;&nbsp;&nbsp;126&nbsp;&nbsp;&nbsp;126&nbsp;&nbsp;&nbsp;84&nbsp;&nbsp;&nbsp;&nbsp;36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;</p>
			<p>A number should be given as command-line argument.  This is the amount of rows the triangle has. For the output, there should be spacing between the numbers based on the size of the numbers with the most digits, so it will look like a proper triangle.</p>
			<p>Good luck!</p>
			<p>[Editor's Note:  If you are working through Chris Pine's Learn to Program, you can do this problem using only things you learned in the first eight chapters.  Since he doesn't teach how to grab the row count in those pages though, just add this as the first line of your program:  `rows = ARGV[0].to_i`.  After that, the rows variable will hold the number of rows to print.  --JEG2]</p>
			<hr />
			<p><span class="title">Quiz Summary</span></p>
			<p>My wife, Dana, is the one working through Learning to Program and the reason I added the note to the quiz.  Those watching the solutions will know that she did submit, but she also told me in a private message:</p>
			<p class="example">But I thought you should know that that problem was HARD!!!!!</p>
			<p>I said in the quiz that you can do it with only the knowledge you've gained in the first eight chapters, and you can, but it does involve some tricky steps compared to the book problems.  If you decide to build up the triangle in memory for example, you either need one long Array and some clever index work to determine where rows start and stop or you need to work with nested Arrays.  Nested Arrays have a single example in chapter eight and the only the briefest of mentions, so that might be a bit of a leap.</p>
			<p>However, if you hound your pet geek, he'll give you enough hints to get through it.  Here's the proof, Dana Gray's solution:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    rows = ARGV[0].to_i<br />    triangle = []<br />    <span class="keyword">if</span> rows &gt;= 1<br />     triangle.push([1])<br />    <span class="keyword">end</span><br />    <span class="keyword">if</span> rows &gt;= 2<br />      triangle.push([1, 1])<br />    <span class="keyword">end</span><br />    last_row = [1, 1]<br /><br />    count = 3<br />    <span class="keyword">while</span> count &lt;= rows<br />      next_row = [1]<br />      index = 0<br />      <span class="keyword">while</span> index &lt; last_row.length - 1<br />        next_row.push last_row[index]+last_row[index + 1]<br />        index = index + 1<br />      <span class="keyword">end</span><br />      next_row.push(1)<br />      triangle.push(next_row)<br />      last_row = next_row<br />      count = count + 1<br />    <span class="keyword">end</span><br /><br />    number_length = last_row[last_row.length / 2].to_s.length<br />    triangle_length = last_row.length * number_length + last_row.length - 1<br />    triangle.each <span class="keyword">do</span> |row|<br />      final_row = []<br />      row.each <span class="keyword">do</span> | number|<br />        final_row.push(number.to_s.center(number_length))<br />      <span class="keyword">end</span><br />      puts final_row.join(<span class="string">' '</span>).center(triangle_length)<br />    <span class="keyword">end</span><br /><br /></div></div>
			<p>The first line is the one I gave to handle the command-line argument.  I'm not sure if Learn to Program ever covers those, but it hasn't by chapter eight.  It's not too tricky though; ARGV is just an Array holding the arguments passed to your program.</p>
			<p>In the next couple of lines, Dana creates an Array to hold the triangle, and pushes the first two rows (as long as we are going that far).  She then declares the last_row shortcut, to save typing triangle[triangle.length - 1] all over the place.  That's the only way Learn to Program has taught to fetch the last element of an Array, by chapter eight.</p>
			<p>In the middle section of code, Dana builds up Pascal's Triangle row by row.  The code works by creating a next_row with the leading 1 already in it, walking the last_row to add up numbers for next_row, and slotting the final 1.  Then, last_row is replaced with next_row, so the next run of the loop will have the new data to work with.</p>
			<p>The final chunk of the code finds the length of the largest number in the triangle and the length of the longest row in the triangle and then uses those to print results.  Note that an extra Array is used here to copy the numbers into while converting them to Strings and sizing them correctly, before the result is join()ed and sent to the screen.</p>
			<p>Dana's output doesn't exactly match the quiz examples, because only one space is used to separate numbers where the quiz uses as many spaces as there are digits in the largest number.  If we want to do that, we need to change the line length calculation to account for the bigger spaces:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    triangle_length = last_row.length * number_length +<br />                      (last_row.length - 1) * number_length<br /><br /></div></div>
			<p>and add the extra spaces to the final output:</p>
			<div class="code"><span class="type">ruby</span><div class="body">      puts final_row.join(<span class="string">' '</span> * number_length).center(triangle_length)<br /><br /></div></div>
			<p>Now, I have great news for all you Learn to Program students.  The more you learn, the easier this problem gets.  You will be surprised how the code just melts away.  To show what I mean, here's a solution from Matthew Moss using a very similar process but with a couple of iterators not yet covered in the book:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="keyword">def</span> pascal n<br />      rows = []<br /><br />      <span class="comment"># generate data</span><br />      (0...n).each <span class="keyword">do</span> |i|<br />         rows &lt;&lt; <span class="keyword">if</span> i.zero?<br />            [1]<br />         <span class="keyword">else</span><br />            rows[i-1].inject([0]) <span class="keyword">do</span> |m, o|<br />               m[0...-1] &lt;&lt; (m[-1] + o) &lt;&lt; o<br />            <span class="keyword">end</span><br />         <span class="keyword">end</span><br />      <span class="keyword">end</span><br /><br />      <span class="comment"># calc field width</span><br />      width = rows[-1].max.to_s.length<br /><br />      <span class="comment"># space out each row</span><br />      rows.collect! <span class="keyword">do</span> |row|<br />         row.collect { |x| x.to_s.center(2 * width) }.join<br />      <span class="keyword">end</span><br /><br />      <span class="comment"># display triangle</span><br />      rows.each { |row| puts row.center(rows[-1].length) }<br />    <span class="keyword">end</span><br /><br />    pascal (ARGV[0] || 10).to_i<br /><br /></div></div>
			<p>This is the same process we examined before, with less variable maintenance work.  Here the triangle is built with some clever use of inject() that uses the last slot of the row being built as a kind of short term memory that gets shaved back off as it is used each time (note the ... in the 0 to -1 Range).  Converting the rows is also much easier here, thanks to the collect() iterator.</p>
			<p>Now, my good friend Greg Brown tells me real programmers use formulas to build the triangle.  I'm just an imaginary programmer sadly, but Matthew Moss must be real.  Here's another Matthew solution, this one filled with formula-slinging code:</p>
			<div class="code"><span class="type">ruby</span><div class="body">    <span class="keyword">class</span> Integer<br />      <span class="keyword">def</span> fact<br />         zero? ? 1 : (1..<span class="keyword">self</span>).inject { |m, o| m * o }<br />      <span class="keyword">end</span><br /><br />      <span class="keyword">def</span> binom(k)<br />         <span class="keyword">self</span>.fact / (k.fact * (<span class="keyword">self</span> - k).fact)<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    <span class="keyword">def</span> pascal n<br />      <span class="comment"># calc field width</span><br />      width = (n - 1).binom(n / 2).to_s.length<br /><br />      <span class="comment"># keep only one row in memory</span><br />      row = [1]<br /><br />      1.upto(n) <span class="keyword">do</span> |i|<br />         <span class="comment"># print row</span><br />         space = <span class="string">' '</span> * width * (n-i)<br />         puts space + row.collect { |x| x.to_s.center(2*width) }.join<br /><br />         <span class="comment"># generate next row</span><br />         row = row.inject([0]) { |m, o| m[0...-1] &lt;&lt; (m[-1] + o) &lt;&lt; o }<br />      <span class="keyword">end</span><br />    <span class="keyword">end</span><br /><br />    pascal (ARGV[0] || 10).to_i<br /><br /></div></div>
			<p>What is of interest here are the fact() and binom() methods.  This is the binomial coefficient formula that can be used to derive any number in the triangle.</p>
			<p>More interesting to me though, is that Matthew only uses this to fetch a single number.  You can see that the first action of the pascal() method uses the formula to conjure the middle element of the last row, for field width purposes.  Once you have that, you can build the triangle normally and print rows as you go, as Matthew does here, because you have all the information you need to format them correctly.</p>
			<p>Now folks, those are only three solutions of over 50!  You should definitely poke around in the others.  Make sure you catch the clever fixes people used to clean up triangle output, like left justifying the left side while right justifying the right side.  Don't miss the example that makes use of multi-methods and certainly don't skip the first ever de-optimized Ruby Quiz solution.  Fun tricks are hiding in so many of the solutions, you must give them a glance.</p>
			<p>My thanks to Pascal's fans who appear to be legion in numbers.</p>
			<p>Tomorrow we will try something a little different.  Instead of celebrating Ruby's niceties over other common languages, we will see if we can't dumb it down a bit and put some of the limits back...</p>
		</div>
		<div id="logo"><img src="/web/20120120004028im_/http://rubyquiz.com/images/ruby_quiz_logo.jpg" alt="" width="157" height="150" /></div>
		<div id="links">
			<span class="title">Quiz Solutions</span>
			<ol>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198844">Benjohn Barnes</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198867">Vance Heron</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198893">Louis J Scoras</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198898">Mustafa Yilmaz</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198902">Eric DUMINIL</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198909">Andrey Falko</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198910">Matthew Smillie</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198911">Andrew Witte</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198912">Adam</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198913">Sigurd Rinde</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198914">Tristan Allwood</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198918">Gregory Brown</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198919">James Edward Gray II</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198922">Jacob Fugal</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198925">Kerry Buckley</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198928">Matthew Moss</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198929">Suraj N. Kurapati</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198930">Dominik Bathon</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198936">Robert Retzbach</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198939">Andrey Falko (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198943">Erik Veenstra</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198944">Josef 'Jupp' SCHUGT</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198949">Simon Kr&ouml;ger</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198957">Erik Veenstra (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198959">Boris Prinz</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198974">Simon Kr&ouml;ger (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198975">Joey</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198986">Mark Van Holstyn</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198989">Erik Veenstra (3)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198994">Dirk Meijer</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/198996">Pete Yandell</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199019">Daniel Martin</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199020">Sam Kong</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199031">Alexandru E. Ungur</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199046">Farrel Lifson</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199052">Dean Poon</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199057">Sean Carley</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199124">Erik Veenstra (4)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199126">Daniel Martin (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199142">Paul Battley</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199151">David Tran</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199163">Tait Pollard</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199177">Dana Gray</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199182">Mike Nelson</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199186">Brian Mattern</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199205">Matthew Moss (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199221">Brent Fitzgerald</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199337">Daniel Martin (3)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199363">Andrew Witte (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199395">John Baylor</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199444">Kelly Norton</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199528">Devin Chalmers</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199556">John Baylor (2)</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199564">Juregen Strobel</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/199569">Tom Armitage</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/253985">Ari Brown</a></li>
				<li><a href="/web/20120120004028/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-talk/254045">Stefan Rusterholz</a></li>
			</ol>
			<p><a href="/web/20120120004028/http://rubyquiz.com/quiz84_sols.zip">Download Solutions</a></p>
			<p><a href="/web/20120120004028/http://rubyquiz.com/index.html">Back to Quiz Listing</a></p>
		</div>
		<div id="footer">&nbsp;</div>
	</div>
</body>
</html>





<!--
     FILE ARCHIVED ON 0:40:28 Jan 20, 2012 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:10:13 Jun 5, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
